(function(g,a,b,i){var f,h;var e=false;if(!(f=g.jQuery)||b>f.fn.jquery||i(f)){var c=a.createElement("script");c.type="text/javascript";c.src=DEBUG_TOOLBAR_MEDIA_URL+"js/jquery.js";c.onload=c.onreadystatechange=function(){if(!e&&(!(h=this.readyState)||h=="loaded"||h=="complete")){i((f=g.jQuery).noConflict(1),e=true);f(c).remove()}};a.documentElement.childNodes[0].appendChild(c)}})(window,document,"1.3",function(d,c){d.cookie=function(h,p,s){if(typeof p!="undefined"){s=s||{};if(p===null){p="";s.expires=-1}var l="";if(s.expires&&(typeof s.expires=="number"||s.expires.toUTCString)){var m;if(typeof s.expires=="number"){m=new Date();m.setTime(m.getTime()+(s.expires*24*60*60*1000))}else{m=s.expires}l="; expires="+m.toUTCString()}var r=s.path?"; path="+(s.path):"";var n=s.domain?"; domain="+(s.domain):"";var g=s.secure?"; secure":"";document.cookie=[h,"=",encodeURIComponent(p),l,r,n,g].join("")}else{var k=null;if(document.cookie&&document.cookie!=""){var q=document.cookie.split(";");for(var o=0;o<q.length;o++){var j=d.trim(q[o]);if(j.substring(0,h.length+1)==(h+"=")){k=decodeURIComponent(j.substring(h.length+1));break}}}return k}};var a="toolbar.min.css";if(DEBUG_TOOLBAR_DEV){var b=Math.round(Math.random()*1000);a="toolbar.css?"+b}d("head").append('<link rel="stylesheet" href="'+DEBUG_TOOLBAR_MEDIA_URL+"css/"+a+'" type="text/css" />');var f="djdt";var e={init:function(){d("#djDebug").show();var g=null;d("#djDebugPanelList li a").click(function(){if(!this.className){return false}g=d("#djDebug #"+this.className);if(g.is(":visible")){d(document).trigger("close.djDebug");d(this).parent().removeClass("active")}else{d(".panelContent").hide();g.show();d("#djDebugToolbar li").removeClass("active");d(this).parent().addClass("active")}return false});d("#djDebug a.djDebugClose").click(function(){d(document).trigger("close.djDebug");d("#djDebugToolbar li").removeClass("active");return false});d("#djDebug a.remoteCall").click(function(){d("#djDebugWindow").load(this.href,function(i,h,k){if(h=="error"){var j='<div class="djDebugPanelTitle"><a class="djDebugClose djDebugBack" href="">Back</a><h3>'+k.status+": "+k.statusText+"</h3></div>";d("#djDebugWindow").html(j)}d("#djDebugWindow a.djDebugBack").click(function(){d(this).parent().parent().hide();return false})});d("#djDebugWindow").show();return false});d("#djDebugTemplatePanel a.djTemplateShowContext").click(function(){e.toggle_arrow(d(this).children(".toggleArrow"));e.toggle_content(d(this).parent().next());return false});d("#djDebugSQLPanel a.djSQLShowStacktrace").click(function(){e.toggle_content(d(".djSQLHideStacktraceDiv",d(this).parents("tr")));return false});d("#djHideToolBarButton").click(function(){e.hide_toolbar(true);return false});d("#djShowToolBarButton").click(function(){e.show_toolbar();return false});d(".handle-position").click(function(){d(".repr-info-sel").removeClass("repr-info-sel");d(this).parent().parent().addClass("repr-info-sel");var m=d(this).text();var j=new RegExp("line\\s+([0-9]+)");var i=m.match(j);try{var l=i[1]}catch(k){return}var h=d(document).data("reprlineselpos")||null;if(h){h.removeClass("repr-line-sel")}d(".repr-line-"+l).addClass("repr-line-sel");d(document).data("reprlineselpos",d(".repr-line-"+l));location=location+"#repr-line-"+l});d(document).bind("close.djDebug",function(){if(d("#djDebugWindow").is(":visible")){d("#djDebugWindow").hide();return}if(d(".panelContent").is(":visible")){d(".panelContent").hide();return}if(d("#djDebugToolbar").is(":visible")){e.hide_toolbar(true);return}});if(d.cookie(f)){e.hide_toolbar(false)}else{e.show_toolbar(false)}},toggle_content:function(g){if(g.is(":visible")){g.hide()}else{g.show()}},close:function(){d(document).trigger("close.djDebug");return false},hide_toolbar:function(g){d("#djDebugWindow").hide();d(".panelContent").hide();d("#djDebugToolbar li").removeClass("active");d("#djDebugToolbar").hide("fast");d("#djDebugToolbarHandle").show();d(document).unbind("keydown.djDebug");if(g){d.cookie(f,"hide",{path:"/",expires:10})}},show_toolbar:function(g){d(document).bind("keydown.djDebug",function(h){if(h.keyCode==27){e.close()}});d("#djDebugToolbarHandle").hide();if(g){d("#djDebugToolbar").show("fast")}else{d("#djDebugToolbar").show()}d.cookie(f,null,{path:"/",expires:-1})},toggle_arrow:function(h){var g=String.fromCharCode(9654);var i=String.fromCharCode(9660);h.html(h.html()==g?i:g)}};d(document).ready(function(){e.init()})});